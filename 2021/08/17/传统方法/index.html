<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Core"><title>传统方法 · Betterwyl</title><meta name="description" content="传统方法Viola-Jones （2001）input→候选框、特征提取、分类器→NMS→output创新点：1、采用积分图像（integral image）技术，加速对Haar-like输入特征的计算。2、采用 AdaBoost 算法进行特征选择。3、采用检测级联技术提高准确率，允许图像的背景区域"><meta name="keywords" content="极限博客,极限Blog,博客,极限"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script src="/js/jquery.js"></script><meta name="generator" content="Hexo 4.2.1"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">Betterwyl</a></h3><div class="description"><p>心之所愿，无事不成。<br> Nothing is impossible to a willing heart.</p></div></div></div><ul class="social-links"><li><a href="https://github.com/mrcore" target="_blank" rel="noopener"><i class="fa fa-github"></i></a></li><li><a href="mailto:x@jixian.io"><i class="fa fa-envelope"></i></a></li><li><a href="http://sighttp.qq.com/authd?IDKEY=" target="_blank" rel="noopener"><i class="fa fa-qq"></i></a></li><li><a href="https://zhihu.com/people/" target="_blank" rel="noopener"><i class="fa fa-mortar-board"></i></a></li></ul><div class="footer"><div class="p"> <span>© 2017 - 2020 </span><i class="fa fa-star"></i><span> Core</span></div><div class="by_farbox"><span>Powered by </span><a href="https://hexo.io/zh-cn/" target="_blank">Hexo </a><span> & </span><a href="https://github.com/mrcore/hexo-theme-Anatole-Core" target="_blank">Anatole-Core  </a></div><div class="beian"><a href="http://www.beian.miit.gov.cn/" target="_blank">粤ICP备15011643号</a><span style="height:10px;margin-left: 10px;">|</span><img src="/images/gongan.png" style="height:10px;margin-left: 10px;position: relative;top: 1px;"><span style="margin-left: 2px;">粤公网安备 44030402003967号</span></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/archives">归档</a></li><li><a href="/tags">标签</a></li><li><a href="/about">关于</a></li><li><a href="/guestbook">留言</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>传统方法</a></h3></div><div class="post-content"><h1 id="传统方法"><a href="#传统方法" class="headerlink" title="传统方法"></a>传统方法</h1><h2 id="Viola-Jones-（2001）"><a href="#Viola-Jones-（2001）" class="headerlink" title="Viola-Jones （2001）"></a>Viola-Jones （2001）</h2><p>input→候选框、特征提取、分类器→NMS→output<br><strong>创新点</strong>：<br>1、采用积分图像（integral image）技术，加速对Haar-like输入特征的计算。<br>2、采用 AdaBoost 算法进行特征选择。<br>3、采用检测级联技术提高准确率，允许图像的背景区域被很快丢弃,从而将更多的计算放在可能是目标的区域上，减少了计算开销。<br><strong>Haar特征</strong>：在一定程度上反应了图像灰度的局部变化，这种特征捕捉图像的边缘、变化等信息。<br>人脸的五官有各自的亮度信息，例如眼睛比周围区域的颜色要深，鼻梁比两侧颜色要浅。Haar-like特征对于这些“块特征”（眼睛，嘴，发际线）具有比较好的效果，但对树枝或主要靠外形（如咖啡杯）的物体不适用。<br>计算：卷积定理：一个W×H 的图像与 m×n 的filter 做卷积，新生成的图像大小为(W−m+1)×(H−n+1), 新图像的每一个像素其实就是原图一个m×n 的local patch与 m×n 的filter 的乘积和。新图像有多少个像素，就对应着原图多少个m×n 的矩形<br><strong>积分图特征</strong>：就是像素左上角的累加。<br><strong>AdaBoost分类器</strong>：针对同一个训练集训练不同的分类器(弱分类器)，然后把这些弱分类器集合起来，构成一个更强的最终分类器（强分类器）。【集成学习】同时进行特征选择与分类器训练。<br>例子：<a href="https://zhuanlan.zhihu.com/p/27126737" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/27126737</a><br><strong>级联检测</strong>：AdaBoost训练出来的强分类器一般具有较小的误识率，但检测率并不很高，一般情况下，高检测率会导致高误识率，这是强分类阈值的划分导致的，要提高强分类器的检测率就要降低阈值，要降低强分类器的误识率就要提高阈值，这是个矛盾的事情。而级联检测通过增加分类器个数可以在提高强分类器检测率的同时降低误识率。</p>
<p><strong>存在问题</strong>：<br>Haar-like特征是一种相对简单的特征，其稳定性较低<br>弱分类器采用简单的决策树，容易过拟合。因此，该算法对于解决正面的 人脸效果好，对于人脸的遮挡，姿态，表情等特殊且复杂的情况，处理效果不理想<br>基于VJ-cascade的分类器设计，进入下一个分类器后，之前的信息都丢弃了，分类器评价一个样本不会基于样本在之前步骤中的表现，导致分类器的鲁棒性差。</p>
<h2 id="HOG-SVM-（2005CVPR-行人检测）"><a href="#HOG-SVM-（2005CVPR-行人检测）" class="headerlink" title="HOG+SVM （2005CVPR 行人检测）"></a>HOG+SVM （2005CVPR 行人检测）</h2><p><strong>HOG特征</strong>：<br>1、灰度化（如果是灰度图，只计算目标像素的梯度，如果是彩色图，那么就要计算各个RGB分量上的梯度）+伽马变化<br>2、梯度计算 sobel 121<br>3、直方图 例子：input 64×128 8x8个像素作为一个cell→这样把图像分割成了8x16个cell<br>横轴：[0, 180]度以20度为一个bin，平均分成9份；<br>纵轴：按照像素梯度的方向找对应的bin，然后把该像素梯度对应的幅值按照比例放入到相应的bin中。<br>Block混叠空间块的归一化：选用了2x2的Block，即4个9×1的直方图组合成一个36×1的向量构成一个直方图。归一化，然后间隔一个Cell依次向后循环，直到扫描完整张图。<br>构建HOG特征描述子：若2×2Block，对于例子的图，水平7个，竖直15个，那么共有105个，一组36个向量，总共有有3780维向量。<br>优缺点：<br>核心思想是所检测的局部物体外形能够被梯度或边缘方向的分布所描述，HOG 能较好地捕捉局部形状信息，对几何和光学变化都有很好的不变性；HOG 是在密集采样的图像块中求取的，在计算得到的 HOG 特征向量中隐含了该块与检测窗口之间的空间位置关系；<br>很难处理遮挡问题，人体姿势动作幅度过大或物体方向改变也不易检测（这个问题后来在DPM中采用可变形部件模型的方法得到了改善）； 跟SIFT相比，HOG 没有选取主方向，也没有旋转梯度方向直方图，因而本身不具有旋转不变性，其旋转不变性是通过采用不同旋转方向的训练样本来实现的； 跟SIFT相比，HOG 本身不具有尺度不变性，其尺度不变性是通过缩放检测窗口图像的大小来实现的；由于梯度的性质，HOG 对噪点相当敏感，在实际应用中，在 Block 和 Cell 划分之后，对于得到各个像区域中，有时候还会做一次高斯平滑去除噪点。<br><strong>SVM分类器</strong>：<a href="https://zhuanlan.zhihu.com/p/31886934" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/31886934</a><br>特征空间上的间隔最大的线性分类器；对于线性可分的数据集来说，这样的超平面有无穷多个（即感知机），但是几何间隔最大的分离超平面却是唯一的。<br><strong>NMS</strong>：筛选出一定区域内属于同一种类得分最大的框。<br>非极大抑制的执行过程如下所示：<br>1、对所有图片进行循环。<br>2、找出该图片中得分大于门限函数的框。在进行重合框筛选前就进行得分的筛选可以大幅度减少框的数量。<br>3、判断第2步中获得的框的种类与得分。取出预测结果中框的位置与之进行堆叠。此时最后一维度里面的内容由5+num_classes变成了4+1+2，四个参数代表框的位置，一个参数代表预测框是否包含物体，两个参数分别代表种类的置信度与种类。<br>4、对种类进行循环，非极大抑制的作用是筛选出一定区域内属于同一种类得分最大的框，对种类进行循环可以帮助我们对每一个类分别进行非极大抑制。<br>5、根据得分对该种类进行从大到小排序。<br>6、每次取出得分最大的框，计算其与其它所有预测框的重合程度，重合程度过大的则剔除。<br><strong>Soft-NMS</strong>：</p>
<h2 id="DPM-（2008-物体检测基于HOG）"><a href="#DPM-（2008-物体检测基于HOG）" class="headerlink" title="DPM （2008 物体检测基于HOG）"></a>DPM （2008 物体检测基于HOG）</h2><p>DPM改进后取消了原HOG中的块(Block)，只保留了单元（Cell）：但归一化时，是直接将当前单元与其周围的4个单元（Cell）所组成的一个区域归一化，所以效果和原HOG特征非常类似。<br>采用了有符号梯度和无符号梯度相结合的策略：计算梯度方向时可以计算有符号（0-360°）18维或无符号（0-180°）9维梯度方向，一共27维。<br>之前使用PCA来降维；DPM近似处理：对27维直方图求和，4个单元每个单元27维向量拼接，一共有31维特征。<br>计算响应图，代表能量分布【梯度方向越亮的方向可以解释为行人具有此方向梯度的可能性越大】→Latent SVM训练→检测识别</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2021-08-17</span><i class="fa fa-tag"></i><a class="tag" href="/tags/学习记录【目标检测】/" title="学习记录【目标检测】">学习记录【目标检测】 </a><span class="leancloud_visitors"></span></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="" onclick="javascript:join_favorite()" ref="sidebar"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" href="http://twitter.com/home?status=,https://betterwyl.github.io/2021/08/17/传统方法/,Betterwyl,传统方法,;" target="_blank" rel="noopener"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2021/09/10/DL%E8%B4%B4%E5%A3%AB/" title="小方法">上一篇</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2020/05/19/test/" title="test">下一篇</a></li></ul></div><script src="/js/visitors.js"></script><a id="comments"></a><div id="vcomments" style="margin:0 30px;"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//cdn.jsdelivr.net/gh/xcss/valine@latest/dist/Valine.min.js"></script><script>var valine = new Valine({
  el:'#vcomments',
  notify:false || false, 
  verify:false|| false, 
  app_id:'xHB6JST92sP5ORC9WNZ7DwXX-gzGzoHsz',
  app_key:'cqHNrhvssKtJ6KzZLln1xtVv',
  placeholder:'念念不忘，必有回响...',
  path: window.location.pathname,
  serverURLs: '',
  visitor:true,
  recordIP:true,
  avatar:'mp'
})</script></div></div></div></div><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/add-bookmark.js"></script><script src="/js/baidu-tongji.js"></script></body></html>